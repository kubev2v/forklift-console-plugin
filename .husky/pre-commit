# .husky/pre-commit

export HUSKY_LINT_STAGED=true
npx lint-staged

echo "run npm run i18n"
npm run i18n
echo "run knip..."
npx knip --config knip.config.ts || true

translation_file_diff=$(git diff --name-only locales/en/plugin__forklift-console-plugin.json)

if [ -n "$translation_file_diff" ]; then
    git add $translation_file_diff
fi

# see what's going to be committed
git status
